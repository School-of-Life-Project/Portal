<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="src/guide/styles.css" />
	</head>

	<body>
		<nav class="related">
			<a href="/">Exit 🚪</a>
		</nav>
		<header>
			<h1>📜 Guide</h1>
			<p>
				This is the manual for 🏫&nbsp;Portal, an app built for independent
				learners.
			</p>
			<p>
				This document assumes that the reader is capable of understanding
				English language text and has basic computer literacy.
			</p>
			<!-- <p>🚧 Portal is a work in progress. Please report any bugs you find.</p> -->
			<p>🚧 This guide is a work-in-progress. Some sections are incomplete.</p>
		</header>
		<main>
			<section>
				<h2 id="adding-resources">📥 Adding Resources</h2>
				<p>
					In order to use the Portal app, you will need content to view within
					it. Inside the app, content is referred to as resources.
				</p>
				<p>
					The app can display two different types of resources: 📚&nbsp;Courses
					and 🗺️&nbsp;Course&nbsp;Maps.
				</p>
				<p>
					📚&nbsp;Courses are a collection of textbooks. Textbooks can be
					📕&nbsp;completable, where you can track your progress, or they can be
					📒&nbsp;non-completable. Non-completable textbooks are typically
					included as reference materials or supplemental reading.
				</p>
				<p>
					🗺️&nbsp;Course&nbsp;Maps are an interactive tree of 📚&nbsp;Courses.
					These help you plan your learning journey by providing an intended
					order for completing courses.
				</p>
				<h3>🌐 Finding Resources</h3>
				<p>
					The developers who build Portal do not create resources. Instead, they
					intend for Portal users to build communities for creating and sharing
					resources.
				</p>
				<p>
					To help new users, major online communities and collections built
					around Portal are included on Portal's website. This website can be
					found in ⚙️&nbsp;Settings, under the 🌐&nbsp;Useful&nbsp;Websites
					drop-down.
				</p>
				<h3>📂 Importing Resources</h3>
				<p>
					Resources are distributed as <code>.zip</code> files. These files
					contain one or more 📚&nbsp;Courses and may contain
					🗺️&nbsp;Course&nbsp;Maps.
				</p>
				<p>
					In order to import a resource, open the &nbsp;Course&nbsp;Navigator,
					and click the 📂&nbsp;Open&nbsp;Resource&nbsp;Folder button. Then,
					drag the <code>.zip</code> files into the resource folder. Once you
					have added the files into the folder, click the
					🔄&nbsp;Refresh&nbsp;Navigator button to update the app's list of
					resources.
				</p>
				<p>
					🛑 Encountered an error? See the
					<a href="#troubleshooting">🧰&nbsp;Troubleshooting</a> section for
					help.
				</p>
			</section>
			<hr />
			<section>
				<h2 id="taking-courses">📚 Taking Courses</h2>
				<h3> Planning Your Journey</h3>
				<h3>📖 Studying</h3>
				<h3>🗓 Staying Consistent</h3>
			</section>
			<hr />
			<section>
				<h2 id="troubleshooting">🧰 Troubleshooting</h2>
				<h3>🛑 Understanding Errors</h3>
				<h3>🛠️ Fixing Common Issues</h3>
				<h3>🐞 Reporting Bugs</h3>
			</section>
			<hr />
			<section>
				<h2 id="creating-resources"> Creator's Guide</h2>
				<p>
					⚠ It is highly recommended that you read all preceding sections of
					the manual before reading this section.
				</p>
				<p>
					This guide is intended for those who wish to create resources for
					Portal. This is a somewhat involved process, and a degree of
					specialized technical knowledge will be required.
				</p>
				<p>You will need a basic understanding of the following concepts:</p>
				<ul>
					<li>Tom's Obvious Minimal Language (TOML)</li>
					<li>Universally Unique Identifier (UUID)</li>
					<li>JSON Schema</li>
					<li>
						EPUB e-Book format
						<ul>
							<li>EPUB v3.2 specification</li>
							<li>
								Open Publication Structure v2 specification (only used by EPUB
								v2 documents)
							</li>
							<li>Extensible Markup Language (XML)</li>
							<li>Hypertext Markup Language (HTML)</li>
							<li>OCF abstract container (EPUB-specific file hierarchy)</li>
							<li>EPUB navigation document</li>
							<li>
								Navigation Center eXtended (only used by EPUB v2 documents)
							</li>
						</ul>
					</li>
					<li>ZIP archive format</li>
				</ul>
				<p>You will need the following digital tools:</p>
				<ul>
					<li>A file archiver, such as PeaZip</li>
					<li>
						A code editor, such as Visual Studio Code
						<ul>
							<li>
								A plugin to validate TOML files against a JSON schema
								(recommended)
							</li>
						</ul>
					</li>
					<li>A specialized ePub editor, such as Sigil (recommended)</li>
				</ul>
				<p>
					Throughout the rest of this section, Portal's user data folder will be
					referred to as <code>$APPDATA</code>. Paths are case-sensitive
					(assuming the underlying filesystem is) unless otherwise specified.
				</p>
				<p>
					ℹ When using UUIDs in filesystem paths, the UUID must be represented
					in lowercase hexadecimal form, without separators (example:
					<code>79a55c4e046343039424684764eccd8a</code>). When referring to
					representations of UUIDs in filesystem paths, the syntax
					<code>{UUID}</code> will be used.
				</p>
				<h3> Resource Schema</h3>
				<p>
					Portal preserves backwards-compatibility for documented behavior.
					Updating Portal should not break existing resources — if this happens,
					it's a bug. However, resources designed for newer versions of Portal
					may fail to load on older versions.
				</p>
				<p>
					In some cases, it may be preferable to use specific versions of Portal
					for building resources. Portal automatically generates a folder
					containing JSON schema upon startup, located at
					<code>$APPDATA/Resource Schema/</code>. This schema documents the
					structure and functionality of resource TOML files.
				</p>
				<p>
					This manual's text aims to avoid being tightly coupled to a specific
					app version, and will not repeat information that is within the scope
					of the relevant schema files.
				</p>
				<h3>📚 Courses</h3>
				<p>
					Courses are folders containing a TOML file named
					<code>course.toml</code> at their root. This file, adhering to the
					<code>$APPDATA/Resource Schema/Course.json</code> schema, contains a
					set of one or more textbooks (in EPUB format).
				</p>
				<p>
					All files or folders referenced by the <code>course.toml</code> must
					be contained within the Course folder. Files or folders within the
					Course folder which are not referenced by the index are ignored.
				</p>
				<p>
					Courses are loaded from the path <code>$APPDATA/{UUID}/</code>. On the
					🏫&nbsp;Home page, only active courses are loaded. In the
					📖&nbsp;Viewer, only the Course being viewed is loaded. In the
					&nbsp;Course&nbsp;Navigator, all Courses are loaded, regardless of
					their active status.
				</p>
				<h4>📕 Textbooks</h4>
				<p>
					ℹ This section assumes that you have an existing textbook, in EPUB
					format, that you would like to include in a Course. Converting
					textbooks into the EPUB format, or creating EPUB documents from
					scratch, is out of scope for this document.
				</p>
				<p>
					All textbooks referenced by the <code>course.toml</code> must be
					unpacked EPUB files (the EPUB container must be a folder, not a file).
					Existing EPUBs can be unpacked by changing their extension to
					<code>.zip</code> and then extracting the archive. Review the Course
					schema for a list of supported EPUB versions.
				</p>
				<p>
					In order for a textbook to be completable, a list of user-completable
					chapters must be included in the configuration for that textbook. Each
					referenced section in the chapter must match a valid
					<code>href</code> from the EPUB's Table of Contents.
				</p>
				<p>
					ℹ Only make chapters or sections completable when their completion is
					<em>meaningful</em>. Sections included for reference or as
					supplementary material should not be marked as completable.
				</p>
				<p>
					⚠ In order to ensure each textbook within your course is completable,
					you must test them within the Portal app.
					<em>Referencing invalid sections will not result in an error.</em>
				</p>
				<p>
					The 📖&nbsp;Viewer is the only part of the application which loads
					Course textbooks (all other areas of the app will only load the
					<code>course.toml</code>). It will only load the textbook being
					actively viewed.
				</p>
				<p>
					The 🏫&nbsp;Home page and &nbsp;Course&nbsp;Navigator are useful
					areas to check the completion of a Course.
				</p>
				<h3>🗺️ Course Maps</h3>
				<p>
					Course Maps are TOML files, adhering to the
					<code>$APPDATA/Resource Schema/CourseMap.json</code> schema, which
					contain a user-facing dependency tree of Courses (referenced by UUID).
				</p>
				<p>
					Course Maps are loaded from the path
					<code>$APPDATA/User Resources/{UUID}.toml</code> when using the
					&nbsp;Course&nbsp;Navigator. An invalid Course Map will result in an
					immediate error. However, a Course Map which references a non-existent
					Course will only produce an error once the user attempts to load the
					Course Map.
				</p>
				<h3> Packaging and Sharing Resources</h3>
				<p>
					⚠ You should
					<strong
						>always test all aspects of your resources in the Portal app</strong
					>
					before packaging and sharing them. Validating your resource against
					the relevant schema will not catch all possible mistakes.
				</p>
				<p>
					⚠ If you plan on publically distributing a Course, a basic
					understanding of copyright law is required. Legal guidance is out of
					scope for this document.
				</p>
				<p>
					Resources are packaged as unencrypted ZIP archives, which are loaded
					from the path
					<code>$APPDATA/User Resources/*.zip</code> (extension is not case
					sensitive). The Portal app then automatically extracts all detected
					ZIP archives in the resource folder into
					<code>$APPDATA/User Resources/</code>, overwriting any files which
					already exist. Decompression will not be performed recursively, so
					putting ZIP archives within other ZIP archives will lead to
					inconsistent behavior. Once the decompression process is successfully
					completed, the ZIP archive will be deleted from the folder.
				</p>
				<p>
					ℹ Unlike Courses or Course Maps, archive filenames do not convey
					information to the app. You should use these filenames to inform the
					<em>end user</em> of the archive's contents.
				</p>
				<p>
					ZIP archives can be uncompressed, or they can be compressed with one
					of the decompression algorithms supported by the app: DEFLATE,
					DEFLATE64, BZIP2, ZStandard, LZMA, and XZ.
				</p>
				<p>
					This form of packaging allows for a substantial degree of flexibility.
					Courses could be packaged as individual files, or multiple Courses
					could be packaged together into the same archive. Course Maps could be
					shared directly as TOML files, or they could be packaged together with
					the Courses they reference. However, it is important to keep in mind
					the needs and expectations of non-technical users when determining how
					to package your resources.
				</p>
				<p>
					ℹ Sets of Courses which are intended to be completed together should
					be packaged together as one archive. If this is not feasible, use
					multiple archives with filenames indicating their relation (example:
					<code>My Course Collection (Part 1 of 3).zip</code>).
				</p>
				<p>
					ℹ Courses and Course Maps should be distributed together, as one
					archive containing all relevant resources. Avoid distributing Course
					Maps separately from Courses.
				</p>
			</section>
		</main>
	</body>
</html>
